# ISO Middleware - Production Environment (Example)
# Copy to your Railway service (api-service) as environment variables.
# Do NOT commit real secrets. Replace placeholders with actual values.

# Public base (used for callback URL prefixing and assistant domain binding)
PUBLIC_BASE_URL=https://api.example.com

# Persistence (ensure a Railway Volume is mounted at /data)
ARTIFACTS_DIR=/data/artifacts

# Database (use Railway Postgres or another managed instance)
DATABASE_URL=postgresql+psycopg://USERNAME:PASSWORD@HOST:5432/DBNAME
SQL_ECHO=0

# Production lifecycle
RUN_MIGRATIONS=1
AUTO_CREATE_DB=0

# API auth for write endpoints (comma-separated)
API_KEYS=prod-admin-CHANGE_ME,partner-CHANGE_ME

# CORS (comma-separated origins, e.g., your UI domain + local dev)
ALLOW_ORIGINS=https://ui.example.com,http://localhost:3000,http://127.0.0.1:3000

# Anchoring (Flare mainnet)
FLARE_RPC_URL=https://flare-api.flare.network/ext/C/rpc
ANCHOR_CONTRACT_ADDR=0x0690d8cFb1897c12B2C0b34660edBDE4E20ff4d8
ANCHOR_ABI_PATH=contracts/EvidenceAnchor.abi.json
ANCHOR_LOOKBACK_BLOCKS=50000
# Private key used for anchoring (NEVER commit). Set this ONLY in Railway env.
ANCHOR_PRIVATE_KEY=0xYOUR_FUNDED_EOA_PRIVATE_KEY

# AI Integration (server-side only)
AI_PROVIDER=openai
OPENAI_API_KEY=sk-YOUR_OPENAI_API_KEY
AI_MODEL=gpt-4o-mini
AI_TEMPERATURE=0.2
AI_MAX_TOKENS=512

# Optional storage backends (leave empty if not used)
IPFS_TOKEN=
IPFS_GATEWAY=https://ipfs.io/ipfs/
ARWEAVE_POST_URL=
BUNDLR_AUTH=
ARWEAVE_GATEWAY=https://arweave.net/
