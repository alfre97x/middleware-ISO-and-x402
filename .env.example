# ISO 20022 Payments Middleware - Environment Variables (PoC)

# ---------- Blockchain (Flare mainnet) ----------
# Default mainnet RPC endpoint
FLARE_RPC_URL=https://flare-api.flare.network/ext/C/rpc

# Deployed EvidenceAnchor contract address (0x... on Flare mainnet)
# If you use the platform default contract, set this to the known deployed address.
ANCHOR_CONTRACT_ADDR=0x0690d8cFb1897c12B2C0b34660edBDE4E20ff4d8

# Private key used to send anchor transactions (NEVER COMMIT REAL KEYS)
# For Docker Compose, this is passed through the environment only.
ANCHOR_PRIVATE_KEY=0xYourPrivateKey

# ABI file path for the contract
ANCHOR_ABI_PATH=contracts/EvidenceAnchor.abi.json

# Number of blocks to look back when searching for events
ANCHOR_LOOKBACK_BLOCKS=50000

# ---------- Database ----------
# In Docker Compose this is set automatically for the api service.
# For local dev (without Docker), you can use Postgres or fall back to SQLite.
# Example Postgres local:
# DATABASE_URL=postgresql+psycopg://iso_user:iso_pass@localhost:5432/iso_mw
# Example SQLite (dev only):
# DATABASE_URL=sqlite:///./dev.db

# Toggle SQLAlchemy echo logs (0/1)
SQL_ECHO=0

# ---------- API / UI ----------
# Comma-separated origins allowed by CORS middleware (web-alt and local dev)
ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Directory to store artifacts (served under /files)
ARTIFACTS_DIR=artifacts

# Public base URL used for callback URL prefixing (optional)
PUBLIC_BASE_URL=http://localhost:8000

# API keys (comma-separated). If set, read endpoints require X-API-Key too.
# API_KEYS=dev-admin-CHANGE_ME,partner-CHANGE_ME

# Docker/ops:
# - RUN_MIGRATIONS=1 runs `alembic upgrade head` at container start.
# - AUTO_CREATE_DB=0 disables Base.metadata.create_all at runtime.
# RUN_MIGRATIONS=1
# AUTO_CREATE_DB=0

# ---------- Signing (Ed25519) ----------
# By default, the service will create a dev keypair under ./.keys
# To provide your own keys, set the following to file paths:
# SERVICE_PRIVATE_KEY=.keys/service_sk.hex     # hex-encoded 32-byte seed
# SERVICE_PUBLIC_KEY=.keys/service_pk.pem      # PEM-encoded public key
